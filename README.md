## plugin-Scripto
[Scripto](http://scripto.org/) is an open-source tool developed by [Center for History and New Media](http://chnm.gmu.edu/) that allows for the viewing and collaborative transcription of digital files. Built on MediaWiki, Scripto is intended to be used as an extension of a content management system. Scripto is currently available as a plugin for Omeka, Wordpress, and Drupal. [Making History|Transcribe](http://www.virginiamemory.com/transcribe/) uses Scripto with Omeka based on a technology stack originally implemented by [DIYHistory|transcribe](http://diyhistory.lib.uiowa.edu/transcribe/) Visit [http://diyhistory.lib.uiowa.edu/code.html](http://diyhistory.lib.uiowa.edu/code.html) for an overview of their original implementation information.

The UI Libraries fork of plugin-Scripto adds the following features:

- Track completion status of document pages (i.e., ‘Not Started’, ‘Needs Review’, ‘Completed’)
- Track completion progress of documents based on page statuses.
- Sort documents within their collection by most completed, floating least completed to the top.
- Initialize document page text entry box with pre-existing text, if available (helpful if using Scripto to correct OCR for typescript pages).
- On every page action, automatically import transcriptions from MediaWiki as file metadata.

The UI Libraries also created an Omeka theme, [Scribe](https://github.com/ui-libraries/scribe), to make use of these new features. The Library altered that theme for use in our project and is available at [Scribe](https://github.com/LibraryofVA/omeka-themes/tree/master/scribe).

To accommodate the above addded features, UI Libraries added three elements to the Scripto metadata element set: “Status”, “Percent Needs Review”, and “Percent Completed”. These values are calculated and updated with every “Save”, “Approve”, or “Unapprove” action made on a document page. Additionally, with every action, a 6-digit sorting number is calculated and stored in dc:Audience.

“Status” stores the completion status of a document page (i.e., “Not Started”, “Needs Review”, “Completed”) in the page-level metadata. Scribe displays this value on each page thumbnail in the items/show page. Values for “Percent Needs Review” and “Percent Completed” are stored at the document (item) level and represent the percentage of pages within the document carrying the “Needs Review” and “Completed” statuses, respectively. These percentages are used by Scribe to display the stacked progress bars for each item in the collections/show page. The sorting number stored in dc:Audience is used by Scribe to sort items on collections/show page by completion progress, sinking the most completed items to the bottom and floating the least completed to the top.

The new fields for the Scripto element set will automatically be installed with a fresh install of the UI Libraries fork of plugin-Scripto. If you are currently running the Scripto plugin and do not wish to lose your existing Scripto data, you can instead manually add the new metadata elements (found in plugin-Scripto/ScriptoPlugin.php) to the elements table in Omeka, and replace your plugin code with the UI Libraries version.

#### Metadata
Metadata and content files are uploaded to Omeka using the [UI libraries fork of plugin-CsvImport](https://github.com/ui-libraries/plugin-CsvImport). CSV Import is an Omeka plugin for batch uploading metadata and content file to Omeka. The UI Libraries fork of this plugin allows for the batch uploading of page-level (file) descriptive metadata. To upload using the UI Libraries’ version, first upload the csv file of items as instructed in the CsvImport documentation (choosing ‘Record Type: Item’ in the Csv Import interface). After uploading and creating the items, upload the csv file of page-level metadata (choosing ‘Record Type: File’ in the CsvImport interface). Map the Original filename to ‘Filename?’ in Step 2 of the CSV Import interface. See _sample-data _Item.csv_ and _sample-data _File.csv_ for an example. If you are pulling content from your version 6 CONTENTdm installation, you may find [this sample gist](https://gist.github.com/saverkamp/4732757) helpful in generating csv upload files.

**Document-level (item) metadata**

<table border="1"><tbody><tr><td><p><strong>Element</strong></p></td><td><p><strong>Omeka element</strong></p></td><td><p><strong>Comments</strong></p></td></tr><tr><td><p>Title</p></td><td><p>dc:Title</p></td><td><p>The title of the document</p></td></tr><tr><td><p>Source URL</p></td><td><p>dc:Source</p></td><td><p>(optional) The URL for the original location or master record for the document (If you are replicating the document from another digital environment).</p></td></tr><tr><td><p>Source identifier</p></td><td><p>dc:Identifier</p></td><td><p>(optional) An identifier for the document that ties it to the original location or master record (If you are replicating the document from another digital environment). Note that Omeka will generate a system identifier for each document (item).</p></td></tr><tr><td><p>Digital collection URL</p></td><td><p>dc:Is Part Of</p></td><td><p>(optional) The URL for the digital collection that the document belongs to in its original digital environment (If you are replicating the document from another digital environment).</p></td></tr><tr><td><p>Finding aid URL</p></td><td><p>dc:Relation</p></td><td><p>(optional) The URL for the finding aid of the document&rsquo;s source collection. </p></td></tr><tr><td><p>Sorting number</p></td><td><p>dc:Audience</p></td><td><p>6-digit number for sorting the item within its collection in the collections/show display. Set to &lsquo;000000&rsquo; as default. This will get updated every time a document page from the document is saved, approved, or unapproved.</p></td></tr><tr><td><p>Percent needs review</p></td><td><p>scripto:Percent Needs Review</p></td><td><p>Percentage of pages with status &lsquo;Needs Review&rsquo;. No default needed. This will get updated every time a document page from the document is saved, approved, or unapproved.</p></td></tr><tr><td><p>Percent completed</p></td><td><p>scripto:Percent Completed</p></td><td><p>Percentage of pages with status &lsquo;Completed&rsquo;. This will get updated every time a document page from the document is saved, approved, or unapproved.</p></td></tr></tbody></table>

**Page-level (file) metadata**

<table border="1"><tbody><tr><td><p><strong>Element</strong></p></td><td><p><strong>Omeka element</strong></p></td><td><p><strong>Comments</strong></p></td></tr><tr><td><p>Original filename</p></td><td><p></p></td><td><p>The file location specified in the csv item upload file. The UI Libraries fork of plugin-CsvImport uses this filename to find the Omeka file record for applying the page-level metadata.</p></td></tr><tr><td><p>Page label</p></td><td><p>dc:Title</p></td><td><p>The label for the page</p></td></tr><tr><td><p>Page-level source URL</p></td><td><p>dc:Source</p></td><td><p>(optional) The URL for the original location or master record for the document page (If you are replicating the document from another digital environment).</p></td></tr><tr><td><p>Source identifier</p></td><td><p>dc:identifier</p></td><td><p>(optional) An identifier for the document page that ties it to the original location or master record (If you are replicating the document from another digital environment). Note that Omeka will generate a system identifier for each document page (file).</p></td></tr><tr><td><p>Transcription</p></td><td><p>scripto:Transcription</p></td><td><p>The transcription for the document page. This will get updated every time a document page is saved or approved. You may pre-populate this field on ingest to Omeka with OCR or existing transcription, if desired.</p></td></tr><tr><td><p>Status</p></td><td><p>scripto:Status</p></td><td><p>Completion status of the document page (&lsquo;Not Started&rsquo;, &lsquo;Needs Review&rsquo;, &lsquo;Completed&rsquo;). Set to &lsquo;Not Started&rsquo; as default. This will get updated every time a document page is saved, approved, or unapproved.</p></td></tr><tr><td><p>Omeka file order</p></td><td><p>no map</p></td><td><p>The order of the page within the document. When used with the ui-libraries/plugin-Csv-Import fork, this value will assure files are in the correct sequence.</p></td></tr></tbody></table>
